{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createMarkup = images =>\n  images\n    .map(image => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = image;\n      return `<li class=\"gallery-item\">\n      <div>\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\" \n            title=\"${tags}\"\n            width=\"360\"\n            height=\"152\"\n          />\n          </a>\n          <div class=\"img-descr\">\n            <ul class=\"list-descr\">\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Likes</p>\n                <p class=\"descr-value\">${likes}</p>\n              </li>\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Views</p>\n                <p class=\"descr-value\">${views}</p>\n              </li>\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Comments</p>\n                <p class=\"descr-value\">${comments}</p>\n              </li>\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Downloads</p>\n                <p class=\"descr-value\">${downloads}</p>\n              </li>\n            </ul>          \n          </div>\n          </div>\n      </li>\n      `;\n    })\n    .join('');\n","import axios from 'axios';\nimport { resp } from '../main';\n\nconst API_KEY = '49388465-88aa64a30b18d669aa90a58a7';\nconst BASE_URL = 'https://pixabay.com/api/';\nexport function getData() {\n  return axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: resp.searchInput.value,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    },\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createMarkup } from './js/render-functions';\nimport { getData } from './js/pixabay-api';\n\nexport const resp = {\n  formEl: document.querySelector('.form'),\n  galleryEl: document.querySelector('.gallery'),\n  loaderEl: document.querySelector('.loader'),\n  searchInput: document.querySelector('.form-input'),\n};\n\nresp.formEl.addEventListener('submit', onSubmit);\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  if (resp.searchInput.value.trim() === '') {\n    return iziToast.warning({\n      position: 'topRight',\n      message: 'Please enter a search term! something',\n    });\n  }\n\n  resp.loaderEl.classList.remove('visually-hidden');\n  resp.galleryEl.innerHTML = '';\n\n  getData()\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        resp.formEl.reset();\n\n        return iziToast.error({\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          messageColor: '#fafafb',\n          iconUrl: errorIcon,\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n\n      resp.galleryEl.insertAdjacentHTML(\n        'beforeend',\n        createMarkup(response.data.hits)\n      );\n\n      resp.formEl.reset();\n\n      let gallery = new SimpleLightbox('.gallery a', {\n        captionsData: 'title',\n        captionDelay: 250,\n        scrollZoom: false,\n      });\n\n      gallery.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => resp.loaderEl.classList.add('visually-hidden'));\n}\n"],"names":["createMarkup","images","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","getData","axios","resp","onSubmit","event","iziToast","response","SimpleLightbox","error"],"mappings":"owBAAO,MAAMA,EAAeC,GAC1BA,EACG,IAAIC,GAAS,CACZ,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,wCAE2BE,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA,qBACFA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCASgBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOlD,CAAK,EACA,KAAK,EAAE,EC7CNC,EAAU,qCACVC,EAAW,2BACV,SAASC,GAAU,CACxB,OAAOC,EAAM,IAAIF,EAAU,CACzB,OAAQ,CACN,IAAKD,EACL,EAAGI,EAAK,YAAY,MACpB,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACL,CAAG,CACH,CCNO,MAAMA,EAAO,CAClB,OAAQ,SAAS,cAAc,OAAO,EACtC,UAAW,SAAS,cAAc,UAAU,EAC5C,SAAU,SAAS,cAAc,SAAS,EAC1C,YAAa,SAAS,cAAc,aAAa,CACnD,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAQ,EAC/C,SAASA,EAASC,EAAO,CAGvB,GAFAA,EAAM,eAAc,EAEhBF,EAAK,YAAY,MAAM,KAAI,IAAO,GACpC,OAAOG,EAAS,QAAQ,CACtB,SAAU,WACV,QAAS,uCACf,CAAK,EAGHH,EAAK,SAAS,UAAU,OAAO,iBAAiB,EAChDA,EAAK,UAAU,UAAY,GAE3BF,EAAS,EACN,KAAKM,GAAY,CAChB,GAAIA,EAAS,KAAK,KAAK,SAAW,EAChC,OAAAJ,EAAK,OAAO,QAELG,EAAS,MAAM,CACpB,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,QAAS,UACT,QACE,0EACZ,CAAS,EAGHH,EAAK,UAAU,mBACb,YACAd,EAAakB,EAAS,KAAK,IAAI,CACvC,EAEMJ,EAAK,OAAO,QAEE,IAAIK,EAAe,aAAc,CAC7C,aAAc,QACd,aAAc,IACd,WAAY,EACpB,CAAO,EAEO,QAAO,CACrB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMN,EAAK,SAAS,UAAU,IAAI,iBAAiB,CAAC,CACjE"}